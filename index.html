<!doctype html>
<html lang="en">
  <head>
    <!-- En tu index.html, agrega estos meta tags en el <head> -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <script>
      (function() {
        const THEME_KEY = 'portfolio-theme';

        // Detectar tema preferido
        const savedTheme = localStorage.getItem(THEME_KEY);
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

        // Determinar tema inicial
        const shouldUseDark = savedTheme === 'dark' || (!savedTheme && prefersDark);

        // Aplicar tema inmediatamente
        if (shouldUseDark) {
          document.documentElement.classList.add('dark');
          if (document.body) {
            document.body.classList.add('dark');
          }
        }

        // Guardar estado actual
        localStorage.setItem(THEME_KEY, shouldUseDark ? 'dark' : 'light');

        // Habilitar transiciones una vez que all el DOM esté listo
        document.addEventListener('DOMContentLoaded', function() {
          requestAnimationFrame(function() {
            requestAnimationFrame(function() {
              if (document.body) {
                document.body.classList.add('theme-transitions-enabled');
              }
            });
          });
        });
      })();
    </script>

    <!-- También puedes agregar estos para PWA -->
    <meta name="theme-color" content="#3A015C">
    <meta name="apple-mobile-web-app-title" content="Koss Portfolio">
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/white-heart.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Koss</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
